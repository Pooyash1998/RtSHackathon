<!DOCTYPE html>
<html>
<head>
    <title>Test Story Generation</title>
</head>
<body>
    <h1>Test Story Generation API</h1>
    <button onclick="testStartChapter()">Test Start Chapter</button>
    <pre id="output"></pre>

    <script>
        async function testStartChapter() {
            const output = document.getElementById('output');
            const classroomId = '550e8400-e29b-41d4-a716-446655440000'; // Use a real classroom ID
            const lessonPrompt = 'Today we learned about Newton\'s laws';
            
            try {
                output.textContent = 'Testing POST /classrooms/' + classroomId + '/chapters/start...\n';
                
                const response = await fetch(
                    `http://localhost:8000/classrooms/${classroomId}/chapters/start?lesson_prompt=${encodeURIComponent(lessonPrompt)}`,
                    {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                    }
                );
                
                output.textContent += `Status: ${response.status} ${response.statusText}\n`;
                
                const data = await response.json();
                output.textContent += '\nResponse:\n' + JSON.stringify(data, null, 2);
            } catch (error) {
                output.textContent += '\nError: ' + error.message;
            }
        }
    </script>
</body>
</html>
